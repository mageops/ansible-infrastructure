mageops_ansible_pip_packages:
  # Needed for all kinds of things including `openssl_*` modules
  - pip_name: cryptography
    rpm_name: python2-cryptography
    source: rpm
    state: present
    reinstall_when_version:
      threshold: '2.0'
      operator: '>='

  # Needed for ansible itself
  - pip_name: paramiko
    rpm_name: python2-paramiko
    source: rpm
    state: present
    reinstall_when_version:
      threshold: '2.2'
      operator: '>='

  # Ansible modules now prefer PyMySQL
  - pip_name: MySQL-python
    rpm_name: MySQL-python
    source: any
    state: absent

  # Needed for `mysql_*` modules
  - pip_name: PyMySQL
    rpm_name: python2-PyMySQL
    source: rpm
    state: present
    reinstall_when_version:
      threshold: '0.9.2'
      operator: '>'

  # pyOpenSSL breaks `openssl_*` modules on ansible 2.9.x
  - pip_name: pyOpenSSL
    rpm_name: pyOpenSSL
    source: any
    state: absent

  - pip_name: docker-py
    rpm_name: python-docker-py
    source: rpm
    state: present
    reinstall_when_rpm_broken: yes

  - pip_name: docker-pycreds
    rpm_name: python-docker-pycreds
    source: rpm
    state: present
    reinstall_when_version:
      threshold: '0.3.0'
      operator: '>'

  - pip_name: urllib3
    rpm_name: python2-urllib3
    source: rpm
    state: present
    reinstall_when_version:
      threshold: '1.12'
      operator: '>='

  - pip_name: requests
    rpm_name: python-requests
    source: rpm
    state: present
    reinstall_when_version:
      threshold: '2.7.0'
      operator: '>='

  - pip_name: six
    rpm_name: python-six
    source: rpm
    state: present
    reinstall_when_version:
      threshold: '1.10.0'
      operator: '>='

  - pip_name: idna
    rpm_name: python-idna
    source: rpm
    state: present
    reinstall_when_version:
      threshold: '2.5'
      operator: '>='

  - pip_name: chardet
    rpm_name: python-chardet
    source: rpm
    state: present
    reinstall_when_version:
      threshold: '2.3'
      operator: '>='