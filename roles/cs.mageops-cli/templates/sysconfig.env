# --- Basic predefined MageOps Project / Node parameters ---
#
# System-wide env file with configuration for sourcing into systemd units and
# interactive shells.                               
#
# Note: These are static parameters that are known at the time of provisioning.                       


# --- General env settings ---

# Are we on AWS?
MAGEOPS_AWS={{ aws_use | ternary('true', 'false') }}

MAGEOPS_PREFIX="{{ mageops_prefix }}"

MAGEOPS_PROJECT="{{ mageops_project }}"
MAGEOPS_ENVIRONMENT="{{ mageops_environment }}"

MAGEOPS_APP_TYPE="{{ mageops_app_type }}"
MAGEOPS_APP_NAME="{{ mageops_app_name }}"
MAGEOPS_NODE_ROLE="{{ mageops_node_role }}"
MAGEOPS_CLI_LIB_PATH="{{ mageops_cli_lib_path }}"


# --- App deployment details ---

MAGEOPS_APP_USER="{{ mageops_app_user }}"
MAGEOPS_APP_GROUP="{{ mageops_app_group }}"
MAGEOPS_APP_UID="{{ mageops_app_uid }}"
MAGEOPS_APP_GID="{{ mageops_app_gid }}"
MAGEOPS_APP_USER_HOME="{{ mageops_app_user_home }}"
MAGEOPS_APP_UMASK="{{ mageops_app_umask }}"
MAGEOPS_APP_BASE_DIR="{{ mageops_app_web_dir }}"

{% if mageops_app_type == 'magento' -%}
# --- Magento deployment info ---

MAGEOPS_MAGENTO_VERSION="{{ magento_version | default('0.0') }}"
MAGEOPS_MAGENTO_USER="{{ magento_user }}"
MAGEOPS_MAGENTO_GROUP="{{ magento_group }}"
MAGEOPS_MAGENTO_RELEASE_DIR="{{ magento_live_release_dir }}"
MAGEOPS_MAGENTO_RELEASE_JSON="{{ magento_live_release_dir }}/pub/BUILD.json"

MAGEOPS_APP_RELEASE_JSON="{{ magento_live_release_dir }}/pub/BUILD.json"
{% else %}
MAGEOPS_APP_RELEASE_JSON=
{% endif %}


